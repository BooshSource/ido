__asm__(R""(
.macro glabel label
    .global \label
    .balign 4
    \label:
.endm

.rdata
RO_1000FBE0:
    # 00498034 reset
    .asciz "/tmp/pas%d.%d"

RO_1000FBF0:
    # 00498034 reset
    .asciz "r"

RO_1000FBF4:
    # 00498034 reset
    .asciz "r"




.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

.text
glabel calc_size
    .ent calc_size
    # 00498034 reset
    # 004983F0 _getbuf
/* 00497FF0 240E1000 */  li    $t6, 4096
/* 00497FF4 01C5001B */  divu  $zero, $t6, $a1
/* 00497FF8 00007812 */  mflo  $t7
/* 00497FFC AFA40000 */  sw    $a0, ($sp)
/* 00498000 14A00002 */  bnez  $a1, .L0049800C
/* 00498004 00000000 */   nop   
/* 00498008 0007000D */  break 7
.L0049800C:
/* 0049800C 01E50019 */  multu $t7, $a1
/* 00498010 00A01825 */  move  $v1, $a1
/* 00498014 00001012 */  mflo  $v0
/* 00498018 00A2082B */  sltu  $at, $a1, $v0
/* 0049801C 10200003 */  beqz  $at, .L0049802C
/* 00498020 00000000 */   nop   
/* 00498024 03E00008 */  jr    $ra
/* 00498028 00000000 */   nop   

.L0049802C:
/* 0049802C 03E00008 */  jr    $ra
/* 00498030 00601025 */   move  $v0, $v1
    .type calc_size, @function
    .size calc_size, .-calc_size
    .end calc_size

glabel reset
    .ent reset
    # 0041FD3C genloadnum
    # 0042BF08 reemit
    # 00434434 func_00434434
    # 00480748 openinput
/* 00498034 3C1C0FB8 */  .cpload $t9
/* 00498038 279C225C */  
/* 0049803C 0399E021 */  
/* 00498040 27BDFFC8 */  addiu $sp, $sp, -0x38
/* 00498044 AFBF001C */  sw    $ra, 0x1c($sp)
/* 00498048 AFBC0018 */  sw    $gp, 0x18($sp)
/* 0049804C AFB00014 */  sw    $s0, 0x14($sp)
/* 00498050 AFA40038 */  sw    $a0, 0x38($sp)
/* 00498054 AFA70044 */  sw    $a3, 0x44($sp)
/* 00498058 AFA0002C */  sw    $zero, 0x2c($sp)
/* 0049805C 10C0000E */  beqz  $a2, .L00498098
/* 00498060 8C900000 */   lw    $s0, ($a0)
/* 00498064 24C2FFFF */  addiu $v0, $a2, -1
/* 00498068 00457821 */  addu  $t7, $v0, $a1
/* 0049806C 91F80000 */  lbu   $t8, ($t7)
/* 00498070 24030020 */  li    $v1, 32
/* 00498074 14780008 */  bne   $v1, $t8, .L00498098
/* 00498078 00000000 */   nop   
.L0049807C:
/* 0049807C 10400006 */  beqz  $v0, .L00498098
/* 00498080 00403025 */   move  $a2, $v0
/* 00498084 2442FFFF */  addiu $v0, $v0, -1
/* 00498088 0045C821 */  addu  $t9, $v0, $a1
/* 0049808C 93280000 */  lbu   $t0, ($t9)
/* 00498090 1068FFFA */  beq   $v1, $t0, .L0049807C
/* 00498094 00000000 */   nop   
.L00498098:
/* 00498098 10C00018 */  beqz  $a2, .L004980FC
/* 0049809C 8FAC0038 */   lw    $t4, 0x38($sp)
/* 004980A0 8F9980C8 */  lw    $t9, %call16(malloc)($gp)
/* 004980A4 24C40001 */  addiu $a0, $a2, 1
/* 004980A8 AFA5003C */  sw    $a1, 0x3c($sp)
/* 004980AC 0320F809 */  jalr  $t9
/* 004980B0 AFA60040 */   sw    $a2, 0x40($sp)
/* 004980B4 8FBC0018 */  lw    $gp, 0x18($sp)
/* 004980B8 8FA5003C */  lw    $a1, 0x3c($sp)
/* 004980BC 8FA60040 */  lw    $a2, 0x40($sp)
/* 004980C0 8F998138 */  lw    $t9, %call16(memcpy)($gp)
/* 004980C4 AFA20030 */  sw    $v0, 0x30($sp)
/* 004980C8 00402025 */  move  $a0, $v0
/* 004980CC 0320F809 */  jalr  $t9
/* 004980D0 00000000 */   nop   
/* 004980D4 8FA30030 */  lw    $v1, 0x30($sp)
/* 004980D8 8FA60040 */  lw    $a2, 0x40($sp)
/* 004980DC 8FBC0018 */  lw    $gp, 0x18($sp)
/* 004980E0 240B0001 */  li    $t3, 1
/* 004980E4 00664821 */  addu  $t1, $v1, $a2
/* 004980E8 A1200000 */  sb    $zero, ($t1)
/* 004980EC 8FAA0038 */  lw    $t2, 0x38($sp)
/* 004980F0 AD430004 */  sw    $v1, 4($t2)
/* 004980F4 10000029 */  b     .L0049819C
/* 004980F8 AFAB002C */   sw    $t3, 0x2c($sp)
.L004980FC:
/* 004980FC 8D8D0004 */  lw    $t5, 4($t4)
/* 00498100 15A00026 */  bnez  $t5, .L0049819C
/* 00498104 AFAD0030 */   sw    $t5, 0x30($sp)
/* 00498108 12000008 */  beqz  $s0, .L0049812C
/* 0049810C 00000000 */   nop   
/* 00498110 8F998104 */  lw    $t9, %call16(fseek)($gp)
/* 00498114 02002025 */  move  $a0, $s0
/* 00498118 00002825 */  move  $a1, $zero
/* 0049811C 0320F809 */  jalr  $t9
/* 00498120 00003025 */   move  $a2, $zero
/* 00498124 1000006E */  b     .L004982E0
/* 00498128 8FBC0018 */   lw    $gp, 0x18($sp)
.L0049812C:
/* 0049812C 8F9980C8 */  lw    $t9, %call16(malloc)($gp)
/* 00498130 24040018 */  li    $a0, 24
/* 00498134 0320F809 */  jalr  $t9
/* 00498138 00000000 */   nop   
/* 0049813C 8FBC0018 */  lw    $gp, 0x18($sp)
/* 00498140 240E0001 */  li    $t6, 1
/* 00498144 AFA20030 */  sw    $v0, 0x30($sp)
/* 00498148 8F838CC0 */  lw     $v1, %got(_libp_pascal_file_counter)($gp)
/* 0049814C AFAE002C */  sw    $t6, 0x2c($sp)
/* 00498150 8C6F0000 */  lw    $t7, ($v1)
/* 00498154 25F80001 */  addiu $t8, $t7, 1
/* 00498158 AC780000 */  sw    $t8, ($v1)
/* 0049815C 8F99813C */  lw    $t9, %call16(getpid)($gp)
/* 00498160 0320F809 */  jalr  $t9
/* 00498164 00000000 */   nop   
/* 00498168 8FBC0018 */  lw    $gp, 0x18($sp)
/* 0049816C 8FA40030 */  lw    $a0, 0x30($sp)
/* 00498170 00403825 */  move  $a3, $v0
/* 00498174 8F9980E0 */  lw    $t9, %call16(sprintf)($gp)
/* 00498178 8F858044 */  lw    $a1, %got(RO_1000FBE0)($gp)
/* 0049817C 8F868CC0 */  lw     $a2, %got(_libp_pascal_file_counter)($gp)
/* 00498180 24A5FBE0 */  addiu $a1, %lo(RO_1000FBE0) # addiu $a1, $a1, -0x420
/* 00498184 0320F809 */  jalr  $t9
/* 00498188 8CC60000 */   lw    $a2, ($a2)
/* 0049818C 8FB90030 */  lw    $t9, 0x30($sp)
/* 00498190 8FA80038 */  lw    $t0, 0x38($sp)
/* 00498194 8FBC0018 */  lw    $gp, 0x18($sp)
/* 00498198 AD190004 */  sw    $t9, 4($t0)
.L0049819C:
/* 0049819C 12000009 */  beqz  $s0, .L004981C4
/* 004981A0 8FA40030 */   lw    $a0, 0x30($sp)
/* 004981A4 8F998140 */  lw    $t9, %call16(freopen)($gp)
/* 004981A8 8F858044 */  lw    $a1, %got(RO_1000FBF0)($gp)
/* 004981AC 02003025 */  move  $a2, $s0
/* 004981B0 0320F809 */  jalr  $t9
/* 004981B4 24A5FBF0 */   addiu $a1, %lo(RO_1000FBF0) # addiu $a1, $a1, -0x410
/* 004981B8 8FBC0018 */  lw    $gp, 0x18($sp)
/* 004981BC 10000008 */  b     .L004981E0
/* 004981C0 00408025 */   move  $s0, $v0
.L004981C4:
/* 004981C4 8F998144 */  lw    $t9, %call16(fopen)($gp)
/* 004981C8 8F858044 */  lw    $a1, %got(RO_1000FBF4)($gp)
/* 004981CC 8FA40030 */  lw    $a0, 0x30($sp)
/* 004981D0 0320F809 */  jalr  $t9
/* 004981D4 24A5FBF4 */   addiu $a1, %lo(RO_1000FBF4) # addiu $a1, $a1, -0x40c
/* 004981D8 8FBC0018 */  lw    $gp, 0x18($sp)
/* 004981DC 00408025 */  move  $s0, $v0
.L004981E0:
/* 004981E0 10400035 */  beqz  $v0, .L004982B8
/* 004981E4 8FA90044 */   lw    $t1, 0x44($sp)
/* 004981E8 51200034 */  beql  $t1, $zero, .L004982BC
/* 004981EC 8FAE0038 */   lw    $t6, 0x38($sp)
/* 004981F0 8F998898 */  lw    $t9, %call16(calc_size)($gp)
/* 004981F4 02002025 */  move  $a0, $s0
/* 004981F8 01202825 */  move  $a1, $t1
/* 004981FC 0320F809 */  jalr  $t9
/* 00498200 00000000 */   nop   
/* 00498204 8FBC0018 */  lw    $gp, 0x18($sp)
/* 00498208 24470008 */  addiu $a3, $v0, 8
/* 0049820C 8F8A8054 */  lw     $t2, %got(__iob)($gp)
/* 00498210 160A0004 */  bne   $s0, $t2, .L00498224
/* 00498214 00000000 */   nop   
/* 00498218 8F8B8074 */  lw     $t3, %got(_sibuf)($gp)
/* 0049821C 10000019 */  b     .L00498284
/* 00498220 AE0B0008 */   sw    $t3, 8($s0)
.L00498224:
/* 00498224 8F9980C8 */  lw    $t9, %call16(malloc)($gp)
/* 00498228 00E02025 */  move  $a0, $a3
/* 0049822C AFA70028 */  sw    $a3, 0x28($sp)
/* 00498230 0320F809 */  jalr  $t9
/* 00498234 00000000 */   nop   
/* 00498238 8FBC0018 */  lw    $gp, 0x18($sp)
/* 0049823C 8FA70028 */  lw    $a3, 0x28($sp)
/* 00498240 10400003 */  beqz  $v0, .L00498250
/* 00498244 00402825 */   move  $a1, $v0
/* 00498248 10000002 */  b     .L00498254
/* 0049824C 00003025 */   move  $a2, $zero
.L00498250:
/* 00498250 24060004 */  li    $a2, 4
.L00498254:
/* 00498254 8F99814C */  lw    $t9, %call16(setvbuf)($gp)
/* 00498258 02002025 */  move  $a0, $s0
/* 0049825C AFA50020 */  sw    $a1, 0x20($sp)
/* 00498260 0320F809 */  jalr  $t9
/* 00498264 00000000 */   nop   
/* 00498268 8FA50020 */  lw    $a1, 0x20($sp)
/* 0049826C 8FBC0018 */  lw    $gp, 0x18($sp)
/* 00498270 10A00004 */  beqz  $a1, .L00498284
/* 00498274 00000000 */   nop   
/* 00498278 920C000C */  lbu   $t4, 0xc($s0)
/* 0049827C 358D0008 */  ori   $t5, $t4, 8
/* 00498280 A20D000C */  sb    $t5, 0xc($s0)
.L00498284:
/* 00498284 8F99812C */  lw    $t9, %call16(__filbuf)($gp)
/* 00498288 02002025 */  move  $a0, $s0
/* 0049828C 0320F809 */  jalr  $t9
/* 00498290 00000000 */   nop   
/* 00498294 2401FFFF */  li    $at, -1
/* 00498298 8FBC0018 */  lw    $gp, 0x18($sp)
/* 0049829C 10410006 */  beq   $v0, $at, .L004982B8
/* 004982A0 00402025 */   move  $a0, $v0
/* 004982A4 8F99810C */  lw    $t9, %call16(ungetc)($gp)
/* 004982A8 02002825 */  move  $a1, $s0
/* 004982AC 0320F809 */  jalr  $t9
/* 004982B0 00000000 */   nop   
/* 004982B4 8FBC0018 */  lw    $gp, 0x18($sp)
.L004982B8:
/* 004982B8 8FAE0038 */  lw    $t6, 0x38($sp)
.L004982BC:
/* 004982BC ADD00000 */  sw    $s0, ($t6)
/* 004982C0 8FAF002C */  lw    $t7, 0x2c($sp)
/* 004982C4 51E00007 */  beql  $t7, $zero, .L004982E4
/* 004982C8 8FBF001C */   lw    $ra, 0x1c($sp)
/* 004982CC 8F9980B8 */  lw    $t9, %call16(free)($gp)
/* 004982D0 8FA40030 */  lw    $a0, 0x30($sp)
/* 004982D4 0320F809 */  jalr  $t9
/* 004982D8 00000000 */   nop   
/* 004982DC 8FBC0018 */  lw    $gp, 0x18($sp)
.L004982E0:
/* 004982E0 8FBF001C */  lw    $ra, 0x1c($sp)
.L004982E4:
/* 004982E4 8FB00014 */  lw    $s0, 0x14($sp)
/* 004982E8 27BD0038 */  addiu $sp, $sp, 0x38
/* 004982EC 03E00008 */  jr    $ra
/* 004982F0 00000000 */   nop   
    .type reset, @function
    .size reset, .-reset
    .end reset
)"");
